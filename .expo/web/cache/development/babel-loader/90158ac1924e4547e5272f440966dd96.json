{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/egecetindag/Desktop/Projects/esclot-mobile/routes/Flow/index.js\";\n\nimport React, { Fragment, useEffect, useState } from 'react';\nimport Service from \"./ServicesPage\";\nimport AddressPage from \"../AddressPage\";\nimport { ProgressSteps, ProgressStep } from 'react-native-progress-steps';\nimport { useNavigation } from '@react-navigation/native';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Auth0 from 'react-native-auth0';\nimport { getServiceInputs } from \"../../actions/ServiceActions\";\nimport { initStripe } from '@stripe/stripe-react-native';\nimport Loading from \"../../components/common/Loading\";\nimport Layout from \"../../components/common/Layout\";\nimport Text from \"../../components/common/Text\";\nimport View from \"react-native-web/dist/exports/View\";\n\nvar customIcon = function customIcon() {\n  return React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42 42\",\n    className: \"am-icon am-icon-md\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 3\n    }\n  }, React.createElement(\"g\", {\n    fillRule: \"evenodd\",\n    stroke: \"transparent\",\n    strokeWidth: \"4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, React.createElement(\"path\", {\n    d: \"M21 0C9.402 0 0 9.402 0 21c0 11.6 9.402 21 21 21s21-9.4 21-21C42 9.402 32.598 0 21 0z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }), React.createElement(\"path\", {\n    fill: \"#FFF\",\n    d: \"M29 18.73c0-.55-.447-1-1-1H23.36l4.428-5.05c.407-.46.407-1.208 0-1.668-.407-.46-1.068-.46-1.476 0l-5.21 5.89-5.21-5.89c-.406-.46-1.067-.46-1.475 0-.406.46-.406 1.207 0 1.667l4.43 5.05H14.23c-.55 0-.998.45-.998 1 0 .554.448.97 1 .97h5.9v3.942h-5.9c-.552 0-1 .448-1 1s.448.985 1 .985h5.9v4.896c0 .552.448 1 1 1 .55 0 .968-.284.968-.836v-5.06H28c.553 0 1-.433 1-.985s-.447-1-1-1h-5.9v-3.94H28c.553 0 1-.418 1-.97z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  })));\n};\n\nfunction Flow(props) {\n  var navigation = useNavigation();\n  var params = props.route.params;\n  var dispatch = useDispatch();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      bookingId = _useState2[0],\n      setBookingId = _useState2[1];\n\n  var _useSelector = useSelector(function (state) {\n    return {\n      loading: state.global.loading\n    };\n  }),\n      loading = _useSelector.loading;\n\n  useEffect(function () {\n    if (Number(params.step) !== 1 && Number(params.step) !== 2 && Number(params.step) !== 3 && Number(params.step) !== 4) {\n      navigation.navigate({\n        name: 'Service',\n        params: {\n          type: params.type,\n          step: \"1\"\n        }\n      });\n    }\n\n    if (params.type === 'self') {\n      dispatch(getServiceInputs());\n    }\n  }, []);\n\n  var next = function next(val) {\n    val && setBookingId(val);\n    navigation.navigate({\n      name: 'Service',\n      params: {\n        type: params.type,\n        step: params.step ? Number(params.step) + 1 : 1\n      }\n    });\n  };\n\n  var prev = function prev() {\n    navigation.navigate({\n      name: 'Service',\n      params: {\n        type: params.type,\n        step: params.step ? Number(params.step) - 1 : 1\n      }\n    });\n  };\n\n  return React.createElement(React.Fragment, null, loading && React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  }), React.createElement(Layout, {\n    type: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, React.createElement(ProgressSteps, {\n    activeStep: Number(params.step) - 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, React.createElement(ProgressStep, {\n    viewProps: {\n      flex: 1\n    },\n    scrollable: false,\n    topOffset: 10,\n    removeBtnRow: true,\n    label: \"Service Details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, React.createElement(Service, {\n    onNext: next,\n    params: props.route.params,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  })), React.createElement(ProgressStep, {\n    topOffset: 10,\n    removeBtnRow: true,\n    scrollable: false,\n    label: \"Your Address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, React.createElement(AddressPage, {\n    onNext: next,\n    params: props.route.params,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }))))));\n}\n\nexport default Flow;","map":{"version":3,"sources":["/Users/egecetindag/Desktop/Projects/esclot-mobile/routes/Flow/index.js"],"names":["React","Fragment","useEffect","useState","Service","AddressPage","ProgressSteps","ProgressStep","useNavigation","useDispatch","useSelector","Auth0","getServiceInputs","initStripe","Loading","Layout","Text","customIcon","Flow","props","navigation","params","route","dispatch","bookingId","setBookingId","state","loading","global","Number","step","navigate","name","type","next","val","prev","flex"],"mappings":"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","sourcesContent":["// import { Result, Steps } from 'antd';\nimport React, { Fragment, useEffect, useState } from 'react';\nimport Service from './ServicesPage'\nimport AddressPage from '../AddressPage';\n// import Layout from '../../components/Common/Layout';\n// import {Steps} from 'antd-mobile';\nimport { ProgressSteps, ProgressStep } from 'react-native-progress-steps';\nimport { useNavigation } from '@react-navigation/native';\n// import Text from '../../components/Common/Text';\n// import '../../assets/styles/flow.less';\n// import PaymentPage from '../PaymentPage';\nimport { useDispatch, useSelector } from 'react-redux';\n// import { useHistory, useParams } from 'react-router-dom';\n// import SuccessPage from '../ResultPage/SuccessPage';\n// import { useAuth0 } from '@auth0/auth0-react';\nimport Auth0 from 'react-native-auth0';\nimport { getServiceInputs } from '../../actions/ServiceActions';\n// import { switchService } from '../../actions/BookingActions';\n// import { Elements } from '@stripe/react-stripe-js';\nimport { initStripe } from '@stripe/stripe-react-native';\n// import TimeSlotPage from '../TimeslotPage';\nimport Loading from '../../components/common/Loading';\nimport Layout from '../../components/common/Layout';\nimport Text from '../../components/common/Text';\nimport { View } from 'react-native';\nconst customIcon = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 42 42\" className=\"am-icon am-icon-md\">\n    <g fillRule=\"evenodd\" stroke=\"transparent\" strokeWidth=\"4\">\n      <path d=\"M21 0C9.402 0 0 9.402 0 21c0 11.6 9.402 21 21 21s21-9.4 21-21C42 9.402 32.598 0 21 0z\" />\n      <path fill=\"#FFF\" d=\"M29 18.73c0-.55-.447-1-1-1H23.36l4.428-5.05c.407-.46.407-1.208 0-1.668-.407-.46-1.068-.46-1.476 0l-5.21 5.89-5.21-5.89c-.406-.46-1.067-.46-1.475 0-.406.46-.406 1.207 0 1.667l4.43 5.05H14.23c-.55 0-.998.45-.998 1 0 .554.448.97 1 .97h5.9v3.942h-5.9c-.552 0-1 .448-1 1s.448.985 1 .985h5.9v4.896c0 .552.448 1 1 1 .55 0 .968-.284.968-.836v-5.06H28c.553 0 1-.433 1-.985s-.447-1-1-1h-5.9v-3.94H28c.553 0 1-.418 1-.97z\" />\n    </g>\n  </svg>\n);\n\n// const stripePromise = loadStripe(\"pk_test_51I6lrfK9emjoqqZwpkWpv1Qx4ZPhA5RzFrk5xrahOYq7zDgLy0bvmydC9z4aD7FHJ92JkN7QRAh6o7S3n5nfaW4X00hx6vnqgF\");\n\n// const { Step } = Steps;\n\nfunction Flow(props) {\n  const navigation = useNavigation();\n  const params = props.route.params;\n  const dispatch = useDispatch();\n  //   const { isLoading, isAuthenticated, loginWithRedirect } = useAuth0();\n  const [bookingId, setBookingId] = useState();\n  const { loading } = useSelector(state => ({\n    loading: state.global.loading,\n  }));\n\n  useEffect(() => {\n    // initStripe({\n    //     publishableKey: \"pk_test_51I6lrfK9emjoqqZwpkWpv1Qx4ZPhA5RzFrk5xrahOYq7zDgLy0bvmydC9z4aD7FHJ92JkN7QRAh6o7S3n5nfaW4X00hx6vnqgF\",\n    //     merchantIdentifier: 'merchant.identifier',\n    //   });\n    // window.scrollTo(0, 0)\n    if (Number(params.step) !== 1 && Number(params.step) !== 2 && Number(params.step) !== 3 && Number(params.step) !== 4) {\n      // history.replace(\"/service/\" + params.type + \"/1\")\n      navigation.navigate({ name: 'Service', params: { type: params.type, step: \"1\" } })\n    }\n    if (params.type === 'self') {\n      dispatch(getServiceInputs());\n    }\n  }, [])\n\n\n\n  const next = (val) => {\n    val && setBookingId(val);\n    navigation.navigate({ name: 'Service', params: { type: params.type, step: (params.step ? Number(params.step) + 1 : 1) } })\n    // navigation.navigate(\"/service/\" + params.type + \"/\" + (params.step ? Number(params.step) + 1 : 1))\n    // history.push(\"/service/\" + params.type + \"/\" + (params.step ? Number(params.step) + 1 : 1))\n    // window.scrollTo(0, 0)\n  };\n\n  const prev = () => {\n    navigation.navigate({ name: 'Service', params: { type: params.type, step: (params.step ? Number(params.step) - 1 : 1) } })\n\n    // navigation.navigate(\"/service/\" + params.type + \"/\" + (params.step ? Number(params.step) - 1 : 1))\n    // history.push(\"/service/\" + params.type + \"/\" + (params.step ? Number(params.step) - 1 : 1))\n    // window.scrollTo(0, 0)\n  };\n\n\n  //   if (!isAuthenticated && (params.step === '2' || params.step === '3' || params.step === '4')) {\n  //     loginWithRedirect({ redirectUri: window.location.href });\n  //     return null;\n  //   }\n  \n  return (\n    <>\n      {loading && <Loading />}\n      <Layout type=\"small\">\n      {/* <Service onNext={next} params={props.route.params}/> */}\n        <ProgressSteps  activeStep={Number(params.step) - 1 }>\n\n          <ProgressStep viewProps={{flex:1}} scrollable={false} topOffset={10} removeBtnRow={true}  label=\"Service Details\">\n            {/* <View > */}\n              <Service onNext={next} params={props.route.params}/>\n             \n            {/* </View> */}\n          </ProgressStep>\n    \n          <ProgressStep topOffset={10} removeBtnRow={true} scrollable={false}  label=\"Your Address\">\n            <View >\n              <AddressPage onNext={next} params={props.route.params}/>\n            </View>\n          </ProgressStep>\n          \n        </ProgressSteps>\n        {/* <Steps current={Number(params.step) - 1}>\n            <Step title=\"Service Details\" />\n            <Step title=\"Your Address\" />\n            <Step title=\"Payment\" />\n            <Step title=\"Confirmation\" />\n          </Steps> */}\n        {/* <div className=\"flow\">\n          <div className=\"flow-title\">\n            <Text size=\"l\" >{params.type === \"self\" ? \"Self-Measure\" : \"Personal Fitting\"} </Text>\n            <div style={{ cursor: \"pointer\" }} onClick={() => {\n              if (params.type === 'self') {\n                dispatch(switchService('prime', () => history.push('/service/prime/1')));\n              } else if (params.type === 'prime') {\n                dispatch(switchService('self', () => history.push('/service/self/1')));\n              }\n            }}>\n              {params.step !== '5' && <Text size=\"xs\">Switch to  {params.type === \"prime\" ? \"Self-Measure\" : \"Personal Fitting\"}</Text>}\n            </div>\n          </div>\n\n       \n        </div>\n\n        <div>{steps[Number(params.step) - 1]}</div> */}\n\n\n      </Layout>\n    </>\n  )\n}\n\nexport default Flow;"]},"metadata":{},"sourceType":"module"}